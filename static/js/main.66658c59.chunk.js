(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(407)},223:function(e,t,a){},225:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},226:function(e,t,a){},337:function(e,t){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(57),l=a.n(o),c=(a(223),a(37)),u=a(38),i=a(41),s=a(39),m=a(40),d=a(421),p=a(427),h=a(428),f=(a(225),a(226),a(426)),b=a(408),E=a(69),g=a(422),y=a(425),v=a(423),w=a(416),O=a(424),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).generateHeader=function(){if(a.props.edit)return r.a.createElement(g.a.HeaderCell,{textAlign:"center"},r.a.createElement(y.a,{as:"h2",color:"blue"},r.a.createElement(y.a.Content,null,"Delete")))},a.generateMenu=function(){var e=Object(E.a)(Object(E.a)(a));return a.props.edit||0!==a.props.todaymenu.length?0===e.props.todaymenu.length?r.a.createElement(g.a.Row,{key:"blank",warning:!0},r.a.createElement(g.a.Cell,{textAlign:"center",key:"blank"},"Menu for today not set")):e.props.todaymenu.map(function(t){return e.props.edit?r.a.createElement(g.a.Row,{key:t},r.a.createElement(g.a.Cell,{textAlign:"center",key:t},t),r.a.createElement(g.a.Cell,null,r.a.createElement(O.a,{disabled:a.props.deleteitem,onClick:a.props.removeFoodItem,deleteitem:t},"Delete"))):r.a.createElement(g.a.Row,{key:t},r.a.createElement(g.a.Cell,{textAlign:"center",key:t},r.a.createElement(y.a,{as:"h3"},t)))}):r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Cell,null,r.a.createElement(v.a,{active:!0,inverted:!0},r.a.createElement(w.a,{size:"small"},"Loading"))))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{key:"orange",className:"menuFont",unstackable:!0,color:"orange",celled:!0,basic:!!this.props.edit&&"very"},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Row,null,r.a.createElement(g.a.HeaderCell,{textAlign:"center"},r.a.createElement(y.a,{as:"h2",color:"orange"},r.a.createElement(y.a.Content,null,"Today's Menu",r.a.createElement(y.a.Subheader,{color:"grey"},"Updated on")))),this.generateHeader())),r.a.createElement(g.a.Body,null,this.generateMenu()))}}]),t}(r.a.Component),I=a(32),C=a.n(I),F=a(70),D=a(119),Y=a(31),k=a.n(Y),M=a(196),x=new(a.n(M).a);function S(e,t){this.owner="rohitbels",this.repo=e,this.path=t}x.authenticate({type:"basic",username:"rohitbels",password:"githubrohit93"}),S.prototype.decode=function(e){return new D.Buffer(e,"base64").toString("utf8")},S.prototype.encode=function(e){return new D.Buffer(JSON.stringify(e)).toString("base64")},S.prototype.getFileData=Object(F.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.repos.getContent({owner:this.owner,repo:this.repo,path:this.path});case 3:return t=e.sent,e.abrupt("return",JSON.parse(this.decode(t.data.content)));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:-1});case 10:case"end":return e.stop()}},e,this,[[0,7]])})),S.prototype.getFileDetails=Object(F.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.repos.getContent({owner:this.owner,repo:this.repo,path:this.path});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)})),S.prototype.updateFileContent=function(){var e=Object(F.a)(C.a.mark(function e(t,a){var n,r,o,l,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileDetails();case 2:return n=e.sent,r=JSON.parse(this.decode(n.content)),o=k()().format("YYYYMMDD"),r instanceof Array?r.push(t):r instanceof Object&&(r[o],r[o]=t),l=n.sha,r=this.encode(r),e.next=10,x.repos.updateFile({owner:this.owner,repo:this.repo,path:this.path,message:a,content:r,sha:l});case 10:return c=e.sent,e.prev=11,e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(11),e.abrupt("return",{});case 18:case"end":return e.stop()}},e,this,[[11,15]])}));return function(t,a){return e.apply(this,arguments)}}(),S.prototype.createFile=Object(F.a)(C.a.mark(function e(){var t,a,n,r,o,l=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:[],a=l.length>1&&void 0!==l[1]?l[1]:"menu",n={},r=k()().format("YYYYMMDD"),n[r]=t,t=this.encode(n),e.next=8,x.repos.createFile({owner:this.owner,repo:this.repo,path:this.path,message:a,content:t});case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));var A=S,R=new A("hostingIO",k()().format("YYYYMMDD").concat(".json")),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).componentDidMount=function(){R.getFileData().then(function(e){a.setState({todaymenu:e[k()().format("YYYYMMDD")]})})},a.state={todaymenu:[]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{width:4,only:"computer"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{src:"/tiffin.png",size:"medium"})),r.a.createElement(f.a.Column,{width:2,only:"mobile"}),r.a.createElement(f.a.Column,{computer:8,mobile:12},r.a.createElement(b.a,{src:"/logo.png",size:"large",centered:!0}),r.a.createElement(f.a,null,r.a.createElement(f.a.Row,null,r.a.createElement(j,{todaymenu:this.state.todaymenu,edit:!1})))),r.a.createElement(f.a.Column,{width:4,only:"computer"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a,{src:"/thali.png",size:"medium"})),r.a.createElement(f.a.Column,{width:2,only:"mobile"})),r.a.createElement(f.a.Row,null,r.a.createElement(f.a.Column,{width:8,only:"mobile"},r.a.createElement(b.a,{src:"/tiffin.png",size:"small"})),r.a.createElement(f.a.Column,{width:8,only:"mobile"},r.a.createElement(b.a,{src:"/thali.png",size:"medium"})))))}}]),t}(r.a.Component),H=(a(391),a(417)),J=a(418),N=a(420),B=a(419),G=new A("hostingIO",k()().format("YYYYMMDD").concat(".json")),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).setSelected=function(e){a.setState({value:e.value},function(){console.log("Option selected:",a.state.value)})},a.addMenuItem=function(){""!==a.state.currentFoodItem.trim()?a.setState({todaymenu:a.state.todaymenu.concat([a.state.currentFoodItem]),currentFoodItem:"",saveloading:!1,foodItemInput:Object.assign({},{error:!1},a.state.foodItemInput)}):a.setState({currentFoodItem:"",foodItemInput:Object.assign({},{error:!0},a.state.foodItemInput)})},a.removeFoodItem=function(e,t){var n=a.state.todaymenu,r=n.indexOf(t.deleteitem),o=n.slice(0,r);o=o.concat(n.slice(r+1)),a.setState({todaymenu:o})},a.saveMenu=function(){a.setState({saveloading:!0,disableDelete:!0,foodItemInput:Object.assign({},{disabled:!0},a.state.foodItemInput)},function(){G.updateFileContent(a.state.todaymenu,"Aaj cha special").then(function(){a.setState({saveloading:!1})})})},a.componentDidMount=function(){G.getFileData().then(function(e){e.status&&-1===e.status?G.createFile():a.setState({todaymenu:e[k()().format("YYYYMMDD")]})})},a.state={currentFoodItem:"",todaymenu:[],foodItemInput:{error:!1,disabled:!1},disableDelete:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(H.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j,{todaymenu:this.state.todaymenu,disableDelete:this.state.disableDelete,removeFoodItem:this.removeFoodItem,edit:!0}),r.a.createElement(J.a,null),r.a.createElement(N.a,null,r.a.createElement(N.a.Group,null,r.a.createElement(N.a.Field,null,r.a.createElement(B.a,Object.assign({label:"Add Food Here",onChange:function(t){e.setState({currentFoodItem:t.target.value})},placeholder:"Food Name",value:this.state.currentFoodItem},this.state.foodItemInput))),r.a.createElement(N.a.Field,null,r.a.createElement(O.a,{content:"Add",onClick:this.addMenuItem})),r.a.createElement(N.a.Field,null,r.a.createElement(O.a,{onClick:this.saveMenu,loading:this.state.saveloading,content:"Save",primary:!0})))))}}]),t}(r.a.Component),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:z}),r.a.createElement(h.a,{path:"/addmenu",component:L}),r.a.createElement(h.a,{component:z}))))}}]),t}(n.Component);l.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[218,2,1]]]);
//# sourceMappingURL=main.66658c59.chunk.js.map